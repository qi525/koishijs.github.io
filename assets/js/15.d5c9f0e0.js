(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{436:function(t,s,a){"use strict";a.r(s);var e=a(25),o=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"机器人"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#机器人"}},[t._v("#")]),t._v(" 机器人 (Bot)")]),t._v(" "),a("p",[a("strong",[t._v("机器人 (Bot)")]),t._v(" 是适配器的核心，它将不同平台的 API 封装成统一的格式供 Koishi 使用。而不同的适配器也可以自行扩展 Bot 实例上的属性和方法。")]),t._v(" "),a("h2",{attrs:{id:"属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#属性"}},[t._v("#")]),t._v(" 属性")]),t._v(" "),a("h3",{attrs:{id:"构造选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构造选项"}},[t._v("#")]),t._v(" 构造选项")]),t._v(" "),a("p",[t._v("每个 Bot 都会继承你构造 App 时传入的选项，因此下列选项是天生就有的：")]),t._v(" "),a("ul",[a("li",[t._v("bot.type")]),t._v(" "),a("li",[t._v("bot.selfId")])]),t._v(" "),a("h3",{attrs:{id:"bot-app"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-app"}},[t._v("#")]),t._v(" bot.app")]),t._v(" "),a("p",[t._v("当前 Bot 所在的 App 实例。")]),t._v(" "),a("h2",{attrs:{id:"消息相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#消息相关"}},[t._v("#")]),t._v(" 消息相关")]),t._v(" "),a("h3",{attrs:{id:"bot-sendmessage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-sendmessage"}},[t._v("#")]),t._v(" bot.sendMessage(channelId, content)")]),t._v(" "),a("p",[t._v("向特定频道发送消息。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("channelId:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 频道 ID")]),t._v(" "),a("li",[a("strong",[t._v("content:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 要发送的内容")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<string>")]),t._v(" 发送的消息 ID")])]),t._v(" "),a("h3",{attrs:{id:"bot-sendprivatemessage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-sendprivatemessage"}},[t._v("#")]),t._v(" bot.sendPrivateMessage(userId, content)")]),t._v(" "),a("p",[t._v("向特定用户发送私聊消息。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("userId:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 对方 ID")]),t._v(" "),a("li",[a("strong",[t._v("content:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 要发送的内容")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<string>")]),t._v(" 发送的消息 ID")])]),t._v(" "),a("h3",{attrs:{id:"bot-getmessage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getmessage"}},[t._v("#")]),t._v(" bot.getMessage(messageId)")]),t._v(" "),a("p",[t._v("获取特定消息。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("messageId:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 消息 ID")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<MessageInfo>")])])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("MessageInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  id")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  type")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'private'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("|")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'group'")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  content")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  timestamp")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  sender")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("SenderInfo")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h3",{attrs:{id:"bot-deletemessage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-deletemessage"}},[t._v("#")]),t._v(" bot.deleteMessage(messageId)")]),t._v(" "),a("p",[t._v("撤回特定信息。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("messageId:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 消息 ID")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("h3",{attrs:{id:"bot-editmessage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-editmessage"}},[t._v("#")]),t._v(" bot.editMessage(messageId, content)")]),t._v(" "),a("p",[t._v("修改特定信息。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("messageId:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 消息 ID")]),t._v(" "),a("li",[a("strong",[t._v("content:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 要发送的内容")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("h2",{attrs:{id:"账号信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#账号信息"}},[t._v("#")]),t._v(" 账号信息")]),t._v(" "),a("h3",{attrs:{id:"bot-getuser"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getuser"}},[t._v("#")]),t._v(" bot.getUser(userId)")]),t._v(" "),a("p",[t._v("获取用户信息。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("userId:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 目标用户 ID")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<UserInfo>")]),t._v(" 陌生人信息")])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("UserInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  id")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  name")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h3",{attrs:{id:"bot-getgroup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getgroup"}},[t._v("#")]),t._v(" bot.getGroup(groupId)")]),t._v(" "),a("p",[t._v("获取群信息。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 目标群 ID")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<GroupInfo>")]),t._v(" 群信息")])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("GroupInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  id")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  name")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h3",{attrs:{id:"bot-getgrouplist"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getgrouplist"}},[t._v("#")]),t._v(" bot.getGroupList()")]),t._v(" "),a("p",[t._v("获取群列表。")]),t._v(" "),a("ul",[a("li",[t._v("返回值: "),a("code",[t._v("Promise<GroupInfo[]>")]),t._v(" 群信息列表")])]),t._v(" "),a("h3",{attrs:{id:"bot-getgroupmember"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getgroupmember"}},[t._v("#")]),t._v(" bot.getGroupMember(groupId, userId)")]),t._v(" "),a("p",[t._v("获取群成员信息。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 目标群 ID")]),t._v(" "),a("li",[a("strong",[t._v("userId:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 目标用户 ID")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<GroupMemberInfo>")]),t._v(" 群成员信息")])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("GroupMemberInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("extends")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("UserInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  nick")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h3",{attrs:{id:"bot-getgroupmemberlist"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getgroupmemberlist"}},[t._v("#")]),t._v(" bot.getGroupMemberList(groupId)")]),t._v(" "),a("p",[t._v("获取群成员列表。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 目标群 ID")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<GroupMemberInfo[]>")]),t._v(" 群成员列表")])])],1)}),[],!1,null,null,null);s.default=o.exports}}]);