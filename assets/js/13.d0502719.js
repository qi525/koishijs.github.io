(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{382:function(t,s,a){"use strict";a.r(s);var o=a(25),e=Object(o.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"koishi-adapter-onebot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#koishi-adapter-onebot"}},[t._v("#")]),t._v(" koishi-adapter-onebot")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/howmanybots/onebot",target:"_blank",rel:"noopener noreferrer"}},[t._v("OneBot"),a("OutboundLink")],1),t._v(" (旧名 CQHTTP) 是一个聊天机器人应用接口标准，目前可用于 QQ 机器人。要使用 koishi-adapter-onebot，你需要首先下载一个实现该协议的框架：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/Mrs4s/go-cqhttp",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mrs4s/go-cqhttp"),a("OutboundLink")],1),t._v("（推荐）")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/yyuueexxiinngg/cqhttp-mirai",target:"_blank",rel:"noopener noreferrer"}},[t._v("yyuueexxiinngg/cqhttp-mirai"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/richardchien/coolq-http-api",target:"_blank",rel:"noopener noreferrer"}},[t._v("richardchien/coolq-http-api"),a("OutboundLink")],1),t._v("（配合 "),a("a",{attrs:{href:"https://github.com/iTXTech/mirai-native",target:"_blank",rel:"noopener noreferrer"}},[t._v("iTXTech/mirai-native"),a("OutboundLink")],1),t._v(" 使用）")])]),t._v(" "),a("p",[t._v("上述框架也在 OneBot 的基础上扩展了各自的接口，而这些扩展的功能也被包含在了 koishi-adapter-onebot 中。")]),t._v(" "),a("ul",[a("li",[t._v("标有 "),a("Badge",{attrs:{vertical:"baseline",text:"go-cqhttp",type:"warn"}}),t._v(" 的 API 只能基于 go-cqhttp 运行")],1)]),t._v(" "),a("h2",{attrs:{id:"机制说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#机制说明"}},[t._v("#")]),t._v(" 机制说明")]),t._v(" "),a("h3",{attrs:{id:"异步调用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#异步调用"}},[t._v("#")]),t._v(" 异步调用")]),t._v(" "),a("p",[t._v("OneBot 提出了"),a("strong",[t._v("异步调用")]),t._v("的概念，当 OneBot 服务器受到异步调用请求时，如果调用正确，将直接返回 200。这样做的好处是，如果某些操作有较长的耗时（例如发送含有大量图片的消息或清空数据目录等）或你不关心调用结果，使用异步调用可以有效防止阻塞。下面说明了异步调用和普通调用的关系：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/async-method.png",alt:"async-method"}})]),t._v(" "),a("p",[t._v("但是另一方面，你也无法得知异步调用是否成功被执行。与此同时，没有副作用的异步调用也毫无意义（因为这些调用本身就是为了获取某些信息，但是异步调用是无法获取调用结果的）。因此，Koishi 为除此以外的所有异步调用都提供了 API，它们的调用接口与非异步的版本除了在方法后面加了一个 "),a("code",[t._v("Async")]),t._v(" 外没有任何区别：")]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#88846F"}},[t._v("// 普通版本")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#66D9EF"}},[t._v("const")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" messageId ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("=")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("await")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" app.sender.")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("sendPrivateMsg")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticStyle:{color:"#AE81FF"}},[t._v("123456789")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(", ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'Hello world'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(")")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#88846F"}},[t._v("// 异步版本，无法获得调用结果")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("await")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" app.sender.")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("sendPrivateMsgAsync")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticStyle:{color:"#AE81FF"}},[t._v("123456789")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(", ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'Hello world'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(")")])])])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("虽然异步调用方法的名字以 Async 结尾，但是其他方法也是"),a("strong",[t._v("异步函数")]),t._v("，它们都会返回一个 "),a("code",[t._v("Promise")]),t._v(" 对象。取这样的名字只是为了与 OneBot 保持一致。")])]),t._v(" "),a("h3",{attrs:{id:"快捷回复"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快捷回复"}},[t._v("#")]),t._v(" 快捷回复")]),t._v(" "),a("p",[t._v("Meta 对象还提供了一个快捷回复方法 "),a("code",[t._v("session.send")]),t._v("，调用它可以快速实现对原消息的回复。快捷操作的响应速度会高于普通的 Sender API 调用，但是默认情况下这种操作同上面的异步调用一样，这些操作也是无法获得调用结果的。完整的快捷操作列表参见 "),a("a",{attrs:{href:"#koishi-%E6%B7%BB%E5%8A%A0%E7%9A%84%E5%B1%9E%E6%80%A7"}},[t._v("Koishi 添加的属性")]),t._v("。")]),t._v(" "),a("p",[t._v("这里也简单介绍一下快捷操作的原理。当正常使用 HTTP 模式时，每个事件上报和 API 调用都使用了不同的连接。那么快捷操作则相当于将 API 调用作为事件上报的响应。当然，这种做法有着很多限制，例如对 WebSocket 无效，同一个事件只能响应一次，以及需要手动处理响应超时的问题。因此，默认情况下这种优化是不开启的。如果手动配置了 "),a("code",[t._v("quickOperationTimeout")]),t._v("，则会将这个配置项作为时间限制，在这个时间限制内第一个调用快捷操作的会享受这种优化（事实上大部分操作都只有一个响应，所以这种优化对 HTTP 往往是非常有效的），之后的所有快捷操作调用都会自动转化为异步调用，这样可以保证快捷操作永远都是可用的。")]),t._v(" "),a("p",[t._v("下面这张图比较了使用 HTTP 时，快捷操作与默认机制的区别：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/quick-operation.png",alt:"quick-operation"}})]),t._v(" "),a("h3",{attrs:{id:"http-和-websocket-应该如何选择？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-和-websocket-应该如何选择？"}},[t._v("#")]),t._v(" HTTP 和 WebSocket 应该如何选择？")]),t._v(" "),a("p",[t._v("目前 Koishi 已经完全实现了 OneBot 提供的 HTTP 和 WebSocket 通信方式，因此它们之间"),a("strong",[t._v("不存在任何功能上的差别")]),t._v("。")]),t._v(" "),a("p",[t._v("但是，HTTP 需要 Koishi 和 OneBot 所处于同一台机器，或所处的机器都拥有公网 IP；而 WebSocket 只需要 Koishi 和 OneBot 所处于同一台机器，或运行 OneBot 的机器拥有公网 IP。因此如果你在服务端运行 CoolQ，同时在个人电脑上调试你的 Koishi 应用，你应当选择使用 WebSocket 模式。")]),t._v(" "),a("p",[t._v("从性能上说，WebSocket 占用的资源会更少（因为不需要每次都建立连接），但是响应速度可能不如 HTTP；另一方面，当一个 Koishi 应用同时管理着多个机器人时，HTTP 能通过快捷调用和服务器复用的方式来提高性能，但是 WebSocket 并没有这些机制。")]),t._v(" "),a("h2",{attrs:{id:"事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[t._v("#")]),t._v(" 事件")]),t._v(" "),a("p",[t._v("metaEvent 系列事件对应这 CQHTTP 插件本身的元事件，"),a("strong",[t._v("只会在 App 实例触发")]),t._v("。所有这些事件的回调函数都会传入一个 "),a("RouterLink",{attrs:{to:"/api/guide/message.html#深入-meta-对象"}},[a("code",[t._v("Meta")]),t._v(" 对象")]),t._v("。这些事件的共同点是 "),a("code",[t._v("meta.postType")]),t._v(" 都为 "),a("code",[t._v("'meta_event'")]),t._v("。")],1),t._v(" "),a("h3",{attrs:{id:"事件：heartbeat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件：heartbeat"}},[t._v("#")]),t._v(" 事件：heartbeat")]),t._v(" "),a("p",[t._v("心跳元事件，"),a("strong",[t._v("仅对 WebSocket 生效")]),t._v("。产生此事件需要通过将配置项 "),a("code",[t._v("enable_heartbeat")]),t._v(" 设置为 "),a("code",[t._v("true")]),t._v("，并可通过 "),a("code",[t._v("heartbeat_interval")]),t._v(" 配置心跳间隔（单位毫秒）。")]),t._v(" "),a("h3",{attrs:{id:"事件：lifecycle"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件：lifecycle"}},[t._v("#")]),t._v(" 事件：lifecycle")]),t._v(" "),a("p",[t._v("生命周期事件，"),a("strong",[t._v("仅对 HTTP 生效")]),t._v("。拥有下面的子事件：")]),t._v(" "),a("ul",[a("li",[t._v("lifecycle/enable: CQHTTP 插件启用")]),t._v(" "),a("li",[t._v("lifecycle/disable: CQHTTP 插件停用")]),t._v(" "),a("li",[t._v("lifecycle/connect: 成功建立 WebSocket 连接")])]),t._v(" "),a("h2",{attrs:{id:"app-构造函数选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-构造函数选项"}},[t._v("#")]),t._v(" App 构造函数选项")]),t._v(" "),a("p",[t._v("下面的配置项来自 koishi-adapter-cqhttp。你需要将你的 "),a("a",{attrs:{href:"#options-type"}},[a("code",[t._v("type")])]),t._v(" 字段配置为 "),a("code",[t._v("cqhttp")]),t._v(", "),a("code",[t._v("cqhttp:http")]),t._v(", "),a("code",[t._v("cqhttp:ws")]),t._v(" 或 "),a("code",[t._v("cqhttp:ws-reverse")]),t._v(" 中的一种。如果缺省或使用了 "),a("code",[t._v("cqhttp")]),t._v("，Koishi 会读取你的 "),a("code",[t._v("server")]),t._v(" 选项，根据你配置的服务器 URL 进行适配。")]),t._v(" "),a("p",[t._v("相关 OneBot 配置："),a("code",[t._v("use_http")]),t._v(", "),a("code",[t._v("use_ws")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"options-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options-path"}},[t._v("#")]),t._v(" options.path")]),t._v(" "),a("ul",[a("li",[t._v("类型："),a("code",[t._v("string")])])]),t._v(" "),a("p",[t._v("服务器监听的路径。相关 OneBot 配置："),a("code",[t._v("post_url")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"options-secret"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options-secret"}},[t._v("#")]),t._v(" options.secret")]),t._v(" "),a("ul",[a("li",[t._v("类型："),a("code",[t._v("string")])])]),t._v(" "),a("p",[t._v("接收信息时用于验证的字段，应与 OneBot 的 "),a("code",[t._v("secret")]),t._v(" 配置保持一致。")]),t._v(" "),a("h3",{attrs:{id:"options-bots-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options-bots-server"}},[t._v("#")]),t._v(" options(.bots[]).server")]),t._v(" "),a("ul",[a("li",[t._v("类型："),a("code",[t._v("string")])])]),t._v(" "),a("p",[t._v("如果使用了 HTTP，则该配置将作为发送信息的服务端；如果使用了 WebSocket，则该配置将作为监听事件和发送信息的服务端。")]),t._v(" "),a("p",[t._v("相关 OneBot 配置："),a("code",[t._v("host")]),t._v(", "),a("code",[t._v("port")]),t._v(", "),a("code",[t._v("ws_host")]),t._v(", "),a("code",[t._v("ws_port")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"options-bots-token"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options-bots-token"}},[t._v("#")]),t._v(" options(.bots[]).token")]),t._v(" "),a("ul",[a("li",[t._v("类型："),a("code",[t._v("string")])])]),t._v(" "),a("p",[t._v("发送信息时用于验证的字段，应与 OneBot 的 "),a("code",[t._v("access_token")]),t._v(" 配置保持一致。")]),t._v(" "),a("h3",{attrs:{id:"options-retrytimes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options-retrytimes"}},[t._v("#")]),t._v(" options.retryTimes")]),t._v(" "),a("ul",[a("li",[t._v("类型："),a("code",[t._v("number")])])]),t._v(" "),a("p",[t._v("WebSocket 允许重新连接的次数。默认值为 "),a("code",[t._v("0")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"options-retryinterval"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options-retryinterval"}},[t._v("#")]),t._v(" options.retryInterval")]),t._v(" "),a("ul",[a("li",[t._v("类型："),a("code",[t._v("number")])])]),t._v(" "),a("p",[t._v("WebSocket 重新尝试连接前的等待时间，单位为毫秒。默认值为 "),a("code",[t._v("5000")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"options-quickoperation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options-quickoperation"}},[t._v("#")]),t._v(" options.quickOperation")]),t._v(" "),a("ul",[a("li",[t._v("类型："),a("code",[t._v("number")])])]),t._v(" "),a("p",[t._v("快捷操作的时间限制，单位为毫秒。如果配置了这个选项且使用了 HTTP 通信方式，则在这段时间内的首次调用 "),a("code",[t._v("meta.send()")]),t._v(" 或类似的方法将不产生新的 HTTP 请求。默认值为 "),a("code",[t._v("100")]),t._v("。参见 "),a("RouterLink",{attrs:{to:"/api/guide/message.html#快捷操作"}},[a("strong",[t._v("快捷操作")])]),t._v(" 一节。")],1),t._v(" "),a("h2",{attrs:{id:"发送消息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发送消息"}},[t._v("#")]),t._v(" 发送消息")]),t._v(" "),a("h3",{attrs:{id:"bot-sendgroupmsg"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-sendgroupmsg"}},[t._v("#")]),t._v(" bot.sendGroupMsg(groupId, message, autoEscape?)")]),t._v(" "),a("p",[t._v("发送群消息。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 群号")]),t._v(" "),a("li",[a("strong",[t._v("message:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 要发送的内容")]),t._v(" "),a("li",[a("strong",[t._v("autoEsacpe:")]),t._v(" "),a("code",[t._v("boolean")]),t._v(" 消息内容是否作为纯文本发送（即不解析 CQ 码）")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<number>")]),t._v(" 新信息的 messageId")])]),t._v(" "),a("h3",{attrs:{id:"bot-sendgroupforwardmsg"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-sendgroupforwardmsg"}},[t._v("#")]),t._v(" bot.sendGroupForwardMsg(groupId, nodes) "),a("Badge",{attrs:{text:"go-cqhttp",type:"warn"}})],1),t._v(" "),a("p",[t._v("发送群批量转发消息。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 群号")]),t._v(" "),a("li",[a("strong",[t._v("nodes:")]),t._v(" "),a("code",[t._v("CQNode[]")]),t._v(" 消息节点列表")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("CQNode")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  type")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'node'")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  data")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    id")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  } ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("|")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    name")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    uin")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    content")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  }")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h3",{attrs:{id:"bot-sendlike"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-sendlike"}},[t._v("#")]),t._v(" bot.sendLike(userId, times?)")]),t._v(" "),a("p",[t._v("给好友点赞。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("userId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 好友 QQ 号")]),t._v(" "),a("li",[a("strong",[t._v("times:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 点赞次数")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("本接口仅限"),a("strong",[t._v("对好友")]),t._v("使用。")])]),t._v(" "),a("h3",{attrs:{id:"bot-getgroupmsg"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getgroupmsg"}},[t._v("#")]),t._v(" bot.getGroupMsg(messageId) "),a("Badge",{attrs:{text:"go-cqhttp",type:"warn"}})],1),t._v(" "),a("p",[t._v("发送群批量转发消息。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("messageId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 消息编号")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<GroupMessage>")])])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("GroupMessage")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  messageId")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  realId")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  sender")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("AccountInfo")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  time")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  content")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h3",{attrs:{id:"bot-getforwardmsg"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getforwardmsg"}},[t._v("#")]),t._v(" bot.getForwardMsg(messageId) "),a("Badge",{attrs:{text:"go-cqhttp",type:"warn"}})],1),t._v(" "),a("p",[t._v("发送群批量转发消息。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("messageId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 消息编号")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<ForwardMessage>")])])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("ForwardMessage")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  messages")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    sender")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("AccountInfo")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    time")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    content")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  }[]")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h2",{attrs:{id:"群相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#群相关"}},[t._v("#")]),t._v(" 群相关")]),t._v(" "),a("h3",{attrs:{id:"bot-setgroupkick"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-setgroupkick"}},[t._v("#")]),t._v(" bot.setGroupKick(groupId, userId, rejectAddRequest?)")]),t._v(" "),a("p",[t._v("踢出群聊或拒绝加群。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 群号")]),t._v(" "),a("li",[a("strong",[t._v("userId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" QQ 号")]),t._v(" "),a("li",[a("strong",[t._v("rejectAddRequest:")]),t._v(" "),a("code",[t._v("boolean")]),t._v(" 拒绝此人的加群请求")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("h3",{attrs:{id:"bot-setgroupban"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-setgroupban"}},[t._v("#")]),t._v(" bot.setGroupBan(groupId, userId, duration?)")]),t._v(" "),a("p",[t._v("群组单人禁言。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 群号")]),t._v(" "),a("li",[a("strong",[t._v("userId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" QQ 号")]),t._v(" "),a("li",[a("strong",[t._v("duration:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 禁言时长（秒），设为 0 表示解除禁言")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("h3",{attrs:{id:"bot-setgroupanonymousban"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-setgroupanonymousban"}},[t._v("#")]),t._v(" bot.setGroupAnonymousBan(groupId, anonymous, duration?)")]),t._v(" "),a("p",[t._v("群组匿名用户禁言。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 群号")]),t._v(" "),a("li",[a("strong",[t._v("anonymous:")]),t._v(" "),a("code",[t._v("object | string")]),t._v(" 匿名用户的信息或 flag，参见 "),a("RouterLink",{attrs:{to:"/api/guide/message.html#message-型元数据属性"}},[t._v("Message 型元数据属性")])],1),t._v(" "),a("li",[a("strong",[t._v("duration:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 禁言时长（秒），设为 0 表示解除禁言")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("h3",{attrs:{id:"bot-setgroupwholeban"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-setgroupwholeban"}},[t._v("#")]),t._v(" bot.setGroupWholeBan(groupId, enable?)")]),t._v(" "),a("p",[t._v("群组全员禁言。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 群号")]),t._v(" "),a("li",[a("strong",[t._v("enable:")]),t._v(" "),a("code",[t._v("boolean")]),t._v(" 是否禁言，默认为 "),a("code",[t._v("true")])]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("h3",{attrs:{id:"bot-setgroupadmin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-setgroupadmin"}},[t._v("#")]),t._v(" bot.setGroupAdmin(groupId, userId, enable?)")]),t._v(" "),a("p",[t._v("群组设置管理员。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 群号")]),t._v(" "),a("li",[a("strong",[t._v("userId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" QQ 号")]),t._v(" "),a("li",[a("strong",[t._v("enable:")]),t._v(" "),a("code",[t._v("boolean")]),t._v(" 是否设置为管理员，默认为 "),a("code",[t._v("true")])]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("h3",{attrs:{id:"bot-setgroupanonymous"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-setgroupanonymous"}},[t._v("#")]),t._v(" bot.setGroupAnonymous(groupId, enable?)")]),t._v(" "),a("p",[t._v("群组设置匿名。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 群号")]),t._v(" "),a("li",[a("strong",[t._v("enable:")]),t._v(" "),a("code",[t._v("boolean")]),t._v(" 是否允许匿名，默认为 "),a("code",[t._v("true")])]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("h3",{attrs:{id:"bot-setgroupcard"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-setgroupcard"}},[t._v("#")]),t._v(" bot.setGroupCard(groupId, userId, card?)")]),t._v(" "),a("p",[t._v("设置群名片。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 群号")]),t._v(" "),a("li",[a("strong",[t._v("userId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" QQ 号")]),t._v(" "),a("li",[a("strong",[t._v("card:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 群名片")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("h3",{attrs:{id:"bot-setgroupleave"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-setgroupleave"}},[t._v("#")]),t._v(" bot.setGroupLeave(groupId, isDismiss?)")]),t._v(" "),a("p",[t._v("退出群组。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 群号")]),t._v(" "),a("li",[a("strong",[t._v("isDismiss:")]),t._v(" "),a("code",[t._v("boolean")]),t._v(" 是否解散群（仅对群主生效）")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("h3",{attrs:{id:"bot-setgroupspecialtitle"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-setgroupspecialtitle"}},[t._v("#")]),t._v(" bot.setGroupSpecialTitle(groupId, userId, specialTitle?, duration?)")]),t._v(" "),a("p",[t._v("设置群组专属头衔。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 群号")]),t._v(" "),a("li",[a("strong",[t._v("userId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" QQ 号")]),t._v(" "),a("li",[a("strong",[t._v("specialTitle:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 专属头衔")]),t._v(" "),a("li",[a("strong",[t._v("duration:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 有效时长（秒，目前可能没用）")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("h3",{attrs:{id:"bot-sendgroupnotice"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-sendgroupnotice"}},[t._v("#")]),t._v(" bot.sendGroupNotice(groupId, title, content)")]),t._v(" "),a("p",[t._v("发布群公告。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 群号")]),t._v(" "),a("li",[a("strong",[t._v("title:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 标题")]),t._v(" "),a("li",[a("strong",[t._v("content:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 内容")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("h3",{attrs:{id:"bot-setgroupname"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-setgroupname"}},[t._v("#")]),t._v(" bot.setGroupName(groupId, name) "),a("Badge",{attrs:{text:"go-cqhttp",type:"warn"}})],1),t._v(" "),a("p",[t._v("修改群名称。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 群号")]),t._v(" "),a("li",[a("strong",[t._v("name:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 群名称")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("h2",{attrs:{id:"处理请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#处理请求"}},[t._v("#")]),t._v(" 处理请求")]),t._v(" "),a("h3",{attrs:{id:"bot-setfriendaddrequest"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-setfriendaddrequest"}},[t._v("#")]),t._v(" bot.setFriendAddRequest(flag, approve?, remark?)")]),t._v(" "),a("p",[t._v("处理加好友请求。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("flag:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 加好友请求的 flag（需从上报的数据中获得）")]),t._v(" "),a("li",[a("strong",[t._v("approve:")]),t._v(" "),a("code",[t._v("boolean")]),t._v(" 是否同意请求，默认为 "),a("code",[t._v("true")])]),t._v(" "),a("li",[a("strong",[t._v("remark:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 好友备注名（仅当同意时有效）")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("h3",{attrs:{id:"bot-setgroupaddrequest"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-setgroupaddrequest"}},[t._v("#")]),t._v(" bot.setGroupAddRequest(flag, subtype, approve?, reason?)")]),t._v(" "),a("p",[t._v("处理加群请求或邀请。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("flag:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 加群请求的 flag（需从上报的数据中获得）")]),t._v(" "),a("li",[a("strong",[t._v("subtype:")]),t._v(" "),a("code",[t._v("'add' | 'invite'")]),t._v(" 子类型，参见 "),a("RouterLink",{attrs:{to:"/api/guide/message.html#request-型元数据属性"}},[t._v("Request 型元数据属性")])],1),t._v(" "),a("li",[a("strong",[t._v("approve:")]),t._v(" "),a("code",[t._v("boolean")]),t._v(" 是否同意请求，默认为 "),a("code",[t._v("true")])]),t._v(" "),a("li",[a("strong",[t._v("reason:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 拒绝理由（仅当拒绝时有效）")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("h2",{attrs:{id:"账号信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#账号信息"}},[t._v("#")]),t._v(" 账号信息")]),t._v(" "),a("h3",{attrs:{id:"bot-getlogininfo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getlogininfo"}},[t._v("#")]),t._v(" bot.getLoginInfo()")]),t._v(" "),a("p",[t._v("获取登录号信息。")]),t._v(" "),a("ul",[a("li",[t._v("返回值: "),a("code",[t._v("Promise<AccountInfo>")]),t._v(" 登录号信息")])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("AccountInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  userId")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  nickname")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h3",{attrs:{id:"bot-getvipinfo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getvipinfo"}},[t._v("#")]),t._v(" bot.getVipInfo()")]),t._v(" "),a("p",[t._v("获取会员信息。")]),t._v(" "),a("ul",[a("li",[t._v("返回值: "),a("code",[t._v("Promise<VipInfo>")]),t._v(" 会员信息")])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("VipInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("extends")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("AccountInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  level")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  levelSpeed")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  vipLevel")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  vipGrowthSpeed")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  vipGrowthTotal")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h3",{attrs:{id:"bot-getstrangerinfo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getstrangerinfo"}},[t._v("#")]),t._v(" bot.getStrangerInfo(userId, noCache?)")]),t._v(" "),a("p",[t._v("获取陌生人信息。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("userId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 目标 QQ 号")]),t._v(" "),a("li",[a("strong",[t._v("noCache:")]),t._v(" "),a("code",[t._v("boolean")]),t._v(" 是否不使用缓存，默认为 "),a("code",[t._v("false")])]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<StrangerInfo>")]),t._v(" 陌生人信息")])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("StrangerInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("extends")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("AccountInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  sex")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'male'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("|")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'female'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("|")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'unknown'")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  age")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h3",{attrs:{id:"bot-getfriendlist"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getfriendlist"}},[t._v("#")]),t._v(" bot.getFriendList()")]),t._v(" "),a("p",[t._v("获取好友列表。")]),t._v(" "),a("ul",[a("li",[t._v("返回值: "),a("code",[t._v("Promise<FriendInfo[]>")]),t._v(" 好友列表")])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("FriendInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("extends")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("AccountInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  remark")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h3",{attrs:{id:"bot-getgrouplist"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getgrouplist"}},[t._v("#")]),t._v(" bot.getGroupList()")]),t._v(" "),a("p",[t._v("获取群列表。")]),t._v(" "),a("ul",[a("li",[t._v("返回值: "),a("code",[t._v("Promise<ListedGroupInfo[]>")]),t._v(" 群信息列表")])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("ListedGroupInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  groupId")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  groupName")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h3",{attrs:{id:"bot-getgroupinfo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getgroupinfo"}},[t._v("#")]),t._v(" bot.getGroupInfo(groupId, noCache?)")]),t._v(" "),a("p",[t._v("获取群信息。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 目标群号")]),t._v(" "),a("li",[a("strong",[t._v("noCache:")]),t._v(" "),a("code",[t._v("boolean")]),t._v(" 是否不使用缓存，默认为 "),a("code",[t._v("false")])]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<GroupInfo>")]),t._v(" 群信息")])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("GroupInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("extends")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("ListedGroupInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  memberCount")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  maxMemberCount")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h3",{attrs:{id:"bot-getgroupmemberinfo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getgroupmemberinfo"}},[t._v("#")]),t._v(" bot.getGroupMemberInfo(groupId, userId, noCache?)")]),t._v(" "),a("p",[t._v("获取群成员信息。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 目标群号")]),t._v(" "),a("li",[a("strong",[t._v("userId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 目标 QQ 号")]),t._v(" "),a("li",[a("strong",[t._v("noCache:")]),t._v(" "),a("code",[t._v("boolean")]),t._v(" 是否不使用缓存，默认为 "),a("code",[t._v("false")])]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<GroupMemberInfo>")]),t._v(" 群成员信息")])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("SenderInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("extends")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("StrangerInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  area")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("?:")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  card")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("?:")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  level")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("?:")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  role")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("?:")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'owner'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("|")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'admin'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("|")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'member'")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  title")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("?:")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("GroupMemberInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("extends")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("SenderInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  cardChangeable")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("boolean")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  groupId")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  joinTime")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  lastSentTime")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  titleExpireTime")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  unfriendly")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("boolean")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h3",{attrs:{id:"bot-getgroupmemberlist"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getgroupmemberlist"}},[t._v("#")]),t._v(" bot.getGroupMemberList(groupId)")]),t._v(" "),a("p",[t._v("获取群成员列表。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 目标群号")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<GroupMemberInfo[]>")]),t._v(" 群成员列表")])]),t._v(" "),a("h3",{attrs:{id:"bot-getgroupnotice"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getgroupnotice"}},[t._v("#")]),t._v(" bot.getGroupNotice(groupId)")]),t._v(" "),a("p",[t._v("获取群公告列表。部分字段具体含义可能需要自行理解。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("groupId:")]),t._v(" "),a("code",[t._v("number")]),t._v(" 目标群号")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<GroupNoticeInfo[]>")]),t._v(" 群公告列表")])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("GroupNoticeInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  cn")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  fid")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  fn")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  msg")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    text")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    textFace")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    title")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  }")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  pubt")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  readNum")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  settings")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    isShowEditCard")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    remindTs")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  }")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  u")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  vn")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h2",{attrs:{id:"其他操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他操作"}},[t._v("#")]),t._v(" 其他操作")]),t._v(" "),a("h3",{attrs:{id:"bot-getcookies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getcookies"}},[t._v("#")]),t._v(" bot.getCookies(domain?)")]),t._v(" "),a("p",[t._v("获取 Cookies。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("domain:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 需要获取 cookies 的域名")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<string>")]),t._v(" cookies")])]),t._v(" "),a("h3",{attrs:{id:"bot-getcsrftoken"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getcsrftoken"}},[t._v("#")]),t._v(" bot.getCsrfToken()")]),t._v(" "),a("p",[t._v("获取 CSRF Token。")]),t._v(" "),a("ul",[a("li",[t._v("返回值: "),a("code",[t._v("Promise<string>")]),t._v(" CSRF Token")])]),t._v(" "),a("h3",{attrs:{id:"bot-getcredentials"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getcredentials"}},[t._v("#")]),t._v(" bot.getCredentials()")]),t._v(" "),a("p",[t._v("获取 QQ 相关接口凭证，相当于上面两个接口的合并。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("domain:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 需要获取 cookies 的域名")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<Credentials>")]),t._v(" 接口凭证")])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("Credentials")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  cookies")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  csrfToken")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h3",{attrs:{id:"bot-getrecord"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getrecord"}},[t._v("#")]),t._v(" bot.getRecord(file, outFormat, fullPath?)")]),t._v(" "),a("p",[t._v("获取语音：并不是真的获取语音，而是转换语音到指定的格式，然后返回 "),a("code",[t._v("data/record")]),t._v(" 目录下的语音文件名。注意，要使用此接口，需要安装 CoolQ 的 "),a("a",{attrs:{href:"https://cqp.cc/t/21132",target:"_blank",rel:"noopener noreferrer"}},[t._v("语音组件"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("file:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 语音文件名")]),t._v(" "),a("li",[a("strong",[t._v("outFormat:")]),t._v(" "),a("code",[t._v("'mp3' | 'amr' | 'wma' | 'm4a' | 'spx' | 'ogg' | 'wav' | 'flac'")])]),t._v(" "),a("li",[a("strong",[t._v("fullPath:")]),t._v(" "),a("code",[t._v("boolean")]),t._v(" 是否返回文件的绝对路径")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<RecordInfo>")])])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("RecordInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  file")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h3",{attrs:{id:"bot-getimage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getimage"}},[t._v("#")]),t._v(" bot.getImage(file)")]),t._v(" "),a("p",[t._v("获取图片：与上面类似，不过返回 "),a("code",[t._v("data/image")]),t._v(" 目录下的图片路径。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("file:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 图片文件名")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<ImageInfo>")])])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("ImageInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  file")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  ")]),a("span",{staticStyle:{color:"#88846F"}},[t._v("// go-cqhttp 特有")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  size")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  filename")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  url")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h3",{attrs:{id:"bot-cansendimage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-cansendimage"}},[t._v("#")]),t._v(" bot.canSendImage()")]),t._v(" "),a("p",[t._v("检查是否可以发送图片。")]),t._v(" "),a("ul",[a("li",[t._v("返回值: "),a("code",[t._v("Promise<boolean>")]),t._v(" 是否可以发送图片")])]),t._v(" "),a("h3",{attrs:{id:"bot-cansendrecord"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-cansendrecord"}},[t._v("#")]),t._v(" bot.canSendRecord()")]),t._v(" "),a("p",[t._v("检查是否可以发送语音。")]),t._v(" "),a("ul",[a("li",[t._v("返回值: "),a("code",[t._v("Promise<boolean>")]),t._v(" 是否可以发送语音")])]),t._v(" "),a("h3",{attrs:{id:"bot-getstatus"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getstatus"}},[t._v("#")]),t._v(" bot.getStatus()")]),t._v(" "),a("p",[t._v("获取插件运行状态。")]),t._v(" "),a("ul",[a("li",[t._v("返回值: "),a("code",[t._v("Promise<StatusInfo>")]),t._v(" 插件运行状态")])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("StatusInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  appInitialized")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("boolean")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  appEnabled")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("boolean")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  pluginsGood")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("boolean")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  appGood")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("boolean")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  online")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("boolean")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  good")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("boolean")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h3",{attrs:{id:"bot-getversioninfo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-getversioninfo"}},[t._v("#")]),t._v(" bot.getVersionInfo()")]),t._v(" "),a("p",[t._v("获取 OneBot 的版本信息。")]),t._v(" "),a("ul",[a("li",[t._v("返回值: "),a("code",[t._v("Promise<VersionInfo>")]),t._v(" 插件版本信息")])]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F92672"}},[t._v("export")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("interface")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("VersionInfo")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  coolqDirectory")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  coolqEdition")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'air'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("|")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'pro'")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  pluginVersion")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  pluginBuildNumber")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("number")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  pluginBuildConfiguration")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'debug'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("|")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'release'")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  ")]),a("span",{staticStyle:{color:"#88846F"}},[t._v("// go-cqhttp 特有")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  goCqhttp")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("boolean")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  runtimeVersion")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  runtimeOs")]),a("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("string")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("h3",{attrs:{id:"bot-setrestart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-setrestart"}},[t._v("#")]),t._v(" bot.setRestart(cleanLog?, cleanCache?, cleanEvent?)")]),t._v(" "),a("p",[t._v("重启 CoolQ，并以当前登录号自动登录（需勾选快速登录）。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("cleanLog:")]),t._v(" "),a("code",[t._v("boolean")]),t._v(" 是否在重启时清空 CoolQ 的日志数据库（log*.db）")]),t._v(" "),a("li",[a("strong",[t._v("cleanCache:")]),t._v(" "),a("code",[t._v("boolean")]),t._v(" 是否在重启时清空 CoolQ 的缓存数据库（cache.db）")]),t._v(" "),a("li",[a("strong",[t._v("cleanEvent:")]),t._v(" "),a("code",[t._v("boolean")]),t._v(" 是否在重启时清空 CoolQ 的事件数据库（eventv2.db）")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("警告")]),t._v(" "),a("p",[t._v("由于强行退出可能导致 CoolQ 数据库损坏而影响功能，此接口除非必要请尽量避免使用。")])]),t._v(" "),a("h3",{attrs:{id:"bot-setrestartplugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-setrestartplugin"}},[t._v("#")]),t._v(" bot.setRestartPlugin(delay?)")]),t._v(" "),a("p",[t._v("重启 HTTP API 插件。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("delay:")]),t._v(" "),a("code",[t._v("string")]),t._v(" 要延迟的毫秒数，如果默认情况下无法重启，可以尝试设置延迟为 2000 左右")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("h3",{attrs:{id:"bot-cleandatadir"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-cleandatadir"}},[t._v("#")]),t._v(" bot.cleanDataDir(dataDir)")]),t._v(" "),a("p",[t._v("清理积攒了太多旧文件的数据目录。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("dataDir:")]),t._v(" "),a("code",[t._v("'image' | 'record' | 'show' | 'bface'")]),t._v(" 要清理的目录名")]),t._v(" "),a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])]),t._v(" "),a("h3",{attrs:{id:"bot-cleanpluginlog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bot-cleanpluginlog"}},[t._v("#")]),t._v(" bot.cleanPluginLog()")]),t._v(" "),a("p",[t._v("清空插件的日志文件。")]),t._v(" "),a("ul",[a("li",[t._v("返回值: "),a("code",[t._v("Promise<void>")])])])],1)}),[],!1,null,null,null);s.default=e.exports}}]);