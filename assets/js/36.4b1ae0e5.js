(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{417:function(t,s,a){"use strict";a.r(s);var l=a(25),o=Object(l.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"快速上手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快速上手"}},[t._v("#")]),t._v(" 快速上手")]),t._v(" "),a("h2",{attrs:{id:"准备工作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[t._v("#")]),t._v(" 准备工作")]),t._v(" "),a("p",[t._v("Koishi 需要 "),a("a",{attrs:{href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("NodeJS"),a("OutboundLink")],1),t._v(" (v12 以上) 运行环境，你需要自己安装它。同时，我们还强烈建议您安装 "),a("a",{attrs:{href:"https://classic.yarnpkg.com/lang/en/",target:"_blank",rel:"noopener noreferrer"}},[t._v("yarn"),a("OutboundLink")],1),t._v(" 作为包管理器。在下面的文档中，我们将默认使用 yarn。")]),t._v(" "),a("p",[t._v("Koishi 支持多个聊天平台，对于不同的平台，你也需要做好相应的准备工作。")]),t._v(" "),a("h3",{attrs:{id:"onebot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onebot"}},[t._v("#")]),t._v(" OneBot (QQ)")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/howmanybots/onebot",target:"_blank",rel:"noopener noreferrer"}},[t._v("OneBot"),a("OutboundLink")],1),t._v(" 是一个聊天机器人应用接口标准，目前可用于 QQ 聊天机器人的实现。你可以使用下列实现该协议的框架：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/Mrs4s/go-cqhttp",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mrs4s/go-cqhttp"),a("OutboundLink")],1),t._v("（推荐）")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/yyuueexxiinngg/cqhttp-mirai",target:"_blank",rel:"noopener noreferrer"}},[t._v("yyuueexxiinngg/cqhttp-mirai"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/richardchien/coolq-http-api",target:"_blank",rel:"noopener noreferrer"}},[t._v("richardchien/coolq-http-api"),a("OutboundLink")],1),t._v("（配合 "),a("a",{attrs:{href:"https://github.com/iTXTech/mirai-native",target:"_blank",rel:"noopener noreferrer"}},[t._v("iTXTech/mirai-native"),a("OutboundLink")],1),t._v(" 使用）")])]),t._v(" "),a("p",[t._v("请注意：尽管 Koishi 使用的协议是 "),a("a",{attrs:{href:"https://choosealicense.com/licenses/mit/",target:"_blank",rel:"noopener noreferrer"}},[t._v("MIT"),a("OutboundLink")],1),t._v(" 协议，但上面陈述的三种途径的相关框架都使用了基于 "),a("a",{attrs:{href:"https://choosealicense.com/licenses/agpl-3.0/",target:"_blank",rel:"noopener noreferrer"}},[t._v("AGPL 3.0"),a("OutboundLink")],1),t._v(" 的协议。"),a("strong",[t._v("因此如果你使用 koishi-adapter-onebot 运行你的机器人，你将可能受到 AGPL 3.0 协议的限制，必须将你的代码开源并保持同协议")]),t._v("。Koishi 及其作者对使用上述框架或违反上述限制的行为所可能造成的一切后果概不负责。")]),t._v(" "),a("h3",{attrs:{id:"kaiheila"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kaiheila"}},[t._v("#")]),t._v(" Kaiheila (开黑啦)")]),t._v(" "),a("p",[t._v("TODO")]),t._v(" "),a("h2",{attrs:{id:"使用命令行工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用命令行工具"}},[t._v("#")]),t._v(" 使用命令行工具")]),t._v(" "),a("p",[t._v("创建并进入一个机器人目录：")]),t._v(" "),a("panel-view",{staticClass:"code",staticStyle:{"background-color":"#032f62"},attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#032f62"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#FFFF00"}},[t._v("mkdir")]),a("span",{staticStyle:{color:"#FFFFFF"}},[t._v(" my-bot ")]),a("span",{staticStyle:{color:"#99FFFF"}},[t._v("&&")]),a("span",{staticStyle:{color:"#FFFF00"}},[t._v(" cd")]),a("span",{staticStyle:{color:"#FFFFFF"}},[t._v(" my-bot")])])])])]),a("p",[t._v("然后输入下面的命令行：")]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{type:"package-manager"},scopedSlots:t._u([{key:"npm",fn:function(){return[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#032f62"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#9F9F9F"}},[t._v("# 初始化项目")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#FFFF00"}},[t._v("npm")]),a("span",{staticStyle:{color:"#FFFFFF"}},[t._v(" init")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#9F9F9F"}},[t._v("# 安装 koishi")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#FFFF00"}},[t._v("npm")]),a("span",{staticStyle:{color:"#FFFFFF"}},[t._v(" i koishi -D")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#9F9F9F"}},[t._v("# 生成配置文件，注意这里是 npx 而不是 npm")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#FFFF00"}},[t._v("npx")]),a("span",{staticStyle:{color:"#FFFFFF"}},[t._v(" koishi init")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#9F9F9F"}},[t._v("# 补全依赖")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#FFFF00"}},[t._v("npm")]),a("span",{staticStyle:{color:"#FFFFFF"}},[t._v(" i")])])])])]},proxy:!0},{key:"yarn",fn:function(){return[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#032f62"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#9F9F9F"}},[t._v("# 初始化项目")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#FFFF00"}},[t._v("yarn")]),a("span",{staticStyle:{color:"#FFFFFF"}},[t._v(" init")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#9F9F9F"}},[t._v("# 安装 koishi")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#FFFF00"}},[t._v("yarn")]),a("span",{staticStyle:{color:"#FFFFFF"}},[t._v(" add koishi -D")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#9F9F9F"}},[t._v("# 生成配置文件")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#FFFF00"}},[t._v("yarn")]),a("span",{staticStyle:{color:"#FFFFFF"}},[t._v(" koishi init")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#9F9F9F"}},[t._v("# 补全依赖")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#FFFF00"}},[t._v("yarn")])])])])]},proxy:!0}])}),t._v(" "),a("p",[t._v("此时，你会看到在你刚刚创建的目录下多了一些文件，包括 "),a("code",[t._v("package.json")]),t._v(" 和 "),a("code",[t._v("koishi.config.js")]),t._v("。后者应该大概长这样：")]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:"koishi.config.js"}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#66D9EF"}},[t._v("module")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(".")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("exports")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("=")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  ")]),a("span",{staticStyle:{color:"#88846F"}},[t._v("// 协议类型")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  type: ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'onebot:http'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(",")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  ")]),a("span",{staticStyle:{color:"#88846F"}},[t._v("// 机器人自己的账号")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  selfId: ")]),a("span",{staticStyle:{color:"#AE81FF"}},[t._v("123456789")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(",")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  ")]),a("span",{staticStyle:{color:"#88846F"}},[t._v("// 插件列表")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  plugins: {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    common: {},")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  },")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("p",[t._v("最后运行程序：")]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{type:"package-manager"},scopedSlots:t._u([{key:"npm",fn:function(){return[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#032f62"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#FFFF00"}},[t._v("npx")]),a("span",{staticStyle:{color:"#FFFFFF"}},[t._v(" koishi start")])])])])]},proxy:!0},{key:"yarn",fn:function(){return[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#032f62"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#FFFF00"}},[t._v("yarn")]),a("span",{staticStyle:{color:"#FFFFFF"}},[t._v(" koishi start")])])])])]},proxy:!0}])}),t._v(" "),a("p",[t._v("现在可以对你的机器人说话了：")]),t._v(" "),a("panel-view",{attrs:{title:"聊天记录"}},[a("chat-message",{attrs:{nickname:"Alice",color:"#cc0066"}},[t._v("echo 你好")]),t._v(" "),a("chat-message",{attrs:{nickname:"Koishi",avatar:"/koishi.png"}},[t._v("你好")])],1),t._v(" "),a("h2",{attrs:{id:"通过脚本调用-koishi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过脚本调用-koishi"}},[t._v("#")]),t._v(" 通过脚本调用 Koishi")]),t._v(" "),a("p",[t._v("如果你对 JavaScript 和 Node.js 非常熟悉，你或许也希望在 Node.js 中直接调用 Koishi——没问题，我们也提供了这样一套方案。")]),t._v(" "),a("p",[t._v("首先初始化你的机器人目录并安装 Koishi 和所需的插件（这里以 koishi-adapter-onebot 和 koishi-plugin-common 为例）：")]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{type:"package-manager"},scopedSlots:t._u([{key:"npm",fn:function(){return[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#032f62"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#9F9F9F"}},[t._v("# 初始化项目")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#FFFF00"}},[t._v("npm")]),a("span",{staticStyle:{color:"#FFFFFF"}},[t._v(" init")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#9F9F9F"}},[t._v("# 安装 koishi 和相关库")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#FFFF00"}},[t._v("npm")]),a("span",{staticStyle:{color:"#FFFFFF"}},[t._v(" i koishi koishi-adapter-onebot koishi-plugin-common -D")])])])])]},proxy:!0},{key:"yarn",fn:function(){return[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#032f62"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#9F9F9F"}},[t._v("# 初始化项目")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#FFFF00"}},[t._v("yarn")]),a("span",{staticStyle:{color:"#FFFFFF"}},[t._v(" init")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#9F9F9F"}},[t._v("# 安装 koishi 和相关库")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#FFFF00"}},[t._v("yarn")]),a("span",{staticStyle:{color:"#FFFFFF"}},[t._v(" add koishi koishi-adapter-onebot koishi-plugin-common -D")])])])])]},proxy:!0}])}),t._v(" "),a("p",[t._v("新建入口文件 "),a("code",[t._v("index.js")]),t._v("，并写下这段代码：")]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:"index.js"}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#66D9EF"}},[t._v("const")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" { App } ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("=")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("require")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'koishi'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(")")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#88846F"}},[t._v("// 你需要手动安装适配器")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#66D9EF"}},[t._v("require")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'koishi-adapter-onebot'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(")")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#66D9EF"}},[t._v("const")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" app ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("=")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("new")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("App")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("({")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  ")]),a("span",{staticStyle:{color:"#88846F"}},[t._v("// 这部分与上面的配置文件作用基本相同")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  type: ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'onebot:http'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(",")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  selfId: ")]),a("span",{staticStyle:{color:"#AE81FF"}},[t._v("123456789")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(",")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("})")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#88846F"}},[t._v("// 注册插件，作用相当于上面配置文件中的 plugins 部分")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("app.")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("plugin")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("require")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'koishi-plugin-common'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("))")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#88846F"}},[t._v("// 启动应用")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("app.")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("start")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("()")])])])])]),a("p",[t._v("最后运行这个文件：")]),t._v(" "),a("panel-view",{staticClass:"code",staticStyle:{"background-color":"#032f62"},attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#032f62"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#FFFF00"}},[t._v("node")]),a("span",{staticStyle:{color:"#FFFFFF"}},[t._v(" .")])])])])]),a("p",[t._v("这样也能运行你的机器人。尽管这显得稍微麻烦一点，但是你的机器人也因此获得了更高的自由度。在下一章我们会简单对比这两种方法。")]),t._v(" "),a("h2",{attrs:{id:"编写并调用你的插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编写并调用你的插件"}},[t._v("#")]),t._v(" 编写并调用你的插件")]),t._v(" "),a("p",[t._v("在机器人目录中添加文件 "),a("code",[t._v("my-plugin.js")]),t._v("：")]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:""}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#88846F"}},[t._v("// 如果收到“天王盖地虎”，就回应“宝塔镇河妖”")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#66D9EF"}},[t._v("module")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(".")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("exports")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("=")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" (")]),a("span",{staticStyle:{color:"#FD971F"}},[t._v("ctx")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(") ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("=>")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  ctx.")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("middleware")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("((")]),a("span",{staticStyle:{color:"#FD971F"}},[t._v("session")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(", ")]),a("span",{staticStyle:{color:"#FD971F"}},[t._v("next")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(") ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("=>")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("if")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" (session.content ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("===")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'天王盖地虎'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(") {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("      session.")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("send")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'宝塔镇河妖'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    }")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("return")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("next")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("()")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  })")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("p",[t._v("修改你的配置文件或入口文件：")]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:"koishi.config.js"}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#66D9EF"}},[t._v("module")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(".")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("exports")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("=")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  plugins: {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'my-plugin'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(": {},")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  },")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("panel-view",{staticClass:"code",attrs:{title:"index.js"}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("app.")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("plugin")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("require")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'./my-plugin'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("))")])])])])]),a("p",[t._v("然后重新运行你的项目：")]),t._v(" "),a("panel-view",{attrs:{title:"聊天记录"}},[a("chat-message",{attrs:{nickname:"Alice",color:"#cc0066"}},[t._v("天王盖地虎")]),t._v(" "),a("chat-message",{attrs:{nickname:"Koishi",avatar:"/koishi.png"}},[t._v("宝塔镇河妖")])],1),t._v(" "),a("h2",{attrs:{id:"配置数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置数据库"}},[t._v("#")]),t._v(" 配置数据库")]),t._v(" "),a("h2",{attrs:{id:"配置多机器人"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置多机器人"}},[t._v("#")]),t._v(" 配置多机器人")]),t._v(" "),a("p",[t._v("你可以像这样使用多个机器人：")]),t._v(" "),a("panel-view",{staticClass:"code",attrs:{title:"koishi.config.js"}},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#66D9EF"}},[t._v("module")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(".")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("exports")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("=")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  port: ")]),a("span",{staticStyle:{color:"#AE81FF"}},[t._v("7070")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(",")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  cqhttp: {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    ")]),a("span",{staticStyle:{color:"#88846F"}},[t._v("// onebot 服务将在 http://localhost:7070/onebot 进行处理")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    path: ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'/event'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(",")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    secret: ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'my-secret'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(",")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  },")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  kaiheila: {")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    ")]),a("span",{staticStyle:{color:"#88846F"}},[t._v("// kaiheila 服务将在 http://localhost:7070/kaiheila 进行处理")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    path: ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'/kaiheila'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(",")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  },")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  bots: [")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    ")]),a("span",{staticStyle:{color:"#88846F"}},[t._v("// 在这里写上不同的机器人配置")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    { type: ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'onebot:http'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(", selfId: ")]),a("span",{staticStyle:{color:"#AE81FF"}},[t._v("123456789")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(", server: ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'http://onebot-server'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" },")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    { type: ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'onebot:ws'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(", selfId: ")]),a("span",{staticStyle:{color:"#AE81FF"}},[t._v("987654321")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(", token: ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'my-onebot-token'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" },")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    { type: ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'kaiheila:ws'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(", selfId: ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'aAbBcCdD'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(", token: ")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v("'my-kaiheila-token'")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" },")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  ],")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}")])])])])]),a("p",[t._v("运行程序后，Koishi 将同时登陆三个机器人。有关多机器人的详细使用方法，可以参见 "),a("RouterLink",{attrs:{to:"/guide/intro/multiple-bots.html"}},[a("strong",[t._v("多机器人开发")])]),t._v(" 一章。")],1)],1)}),[],!1,null,null,null);s.default=o.exports}}]);