(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{433:function(t,e,s){"use strict";s.r(e);var a=s(25),v=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"上下文"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#上下文"}},[t._v("#")]),t._v(" 上下文 (Context)")]),t._v(" "),s("p",[s("strong",[t._v("上下文 (Context)")]),t._v(" 是 Koishi 的重要概念。你的每一个插件，中间件，监听器和指令都被绑定在上下文上。")]),t._v(" "),s("h2",{attrs:{id:"实例属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例属性"}},[t._v("#")]),t._v(" 实例属性")]),t._v(" "),s("p",[t._v("下面的属性为了访问方便而绑定，严格上它们对一个 App 实例下的所有上下文都是相同的。")]),t._v(" "),s("h3",{attrs:{id:"ctx-database"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-database"}},[t._v("#")]),t._v(" ctx.database")]),t._v(" "),s("p",[t._v("当前应用的 "),s("RouterLink",{attrs:{to:"/api/database.html#数据库对象"}},[t._v("Database")]),t._v(" 对象。")],1),t._v(" "),s("h3",{attrs:{id:"ctx-router"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-router"}},[t._v("#")]),t._v(" ctx.router")]),t._v(" "),s("p",[t._v("如果你配置了 "),s("RouterLink",{attrs:{to:"/api/app.html#option-port"}},[t._v("port")]),t._v(" 选项，则这个属性将作为一个 "),s("a",{attrs:{href:"https://github.com/koajs/router/blob/master/API.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("KoaRouter"),s("OutboundLink")],1),t._v(" 实例。你可以在上面自定义新的路由：")],1),t._v(" "),s("panel-view",{staticClass:"code",attrs:{title:""}},[s("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[s("code",[s("span",{staticClass:"line"},[s("span",{staticStyle:{color:"#F8F8F2"}},[t._v("ctx.router.")]),s("span",{staticStyle:{color:"#A6E22E"}},[t._v("get")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),s("span",{staticStyle:{color:"#E6DB74"}},[t._v("'/path'")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(", (")]),s("span",{staticStyle:{color:"#FD971F"}},[t._v("ctx")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(", ")]),s("span",{staticStyle:{color:"#FD971F"}},[t._v("next")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(") ")]),s("span",{staticStyle:{color:"#66D9EF"}},[t._v("=>")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" {")])]),t._v("\n"),s("span",{staticClass:"line"},[s("span",{staticStyle:{color:"#F8F8F2"}},[t._v("  ")]),s("span",{staticStyle:{color:"#88846F"}},[t._v("// handle request")])]),t._v("\n"),s("span",{staticClass:"line"},[s("span",{staticStyle:{color:"#F8F8F2"}},[t._v("})")])])])])]),s("h3",{attrs:{id:"ctx-servers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-servers"}},[t._v("#")]),t._v(" ctx.servers")]),t._v(" "),s("p",[t._v("一个键值对，保存了当前应用下的所有 Server 实例。")]),t._v(" "),s("h2",{attrs:{id:"过滤器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#过滤器"}},[t._v("#")]),t._v(" 过滤器")]),t._v(" "),s("h3",{attrs:{id:"ctx-user"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-user"}},[t._v("#")]),t._v(" ctx.user(...values)")]),t._v(" "),s("h3",{attrs:{id:"ctx-group"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-group"}},[t._v("#")]),t._v(" ctx.group(...values)")]),t._v(" "),s("h3",{attrs:{id:"ctx-platform"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-platform"}},[t._v("#")]),t._v(" ctx.platform(...values)")]),t._v(" "),s("p",[t._v("选取当前上下文的子集，限定用户编号 / 群组编号 / 平台名称为所给定的值。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("values:")]),t._v(" "),s("code",[t._v("string[]")]),t._v(" 允许的用户编号 / 群组编号 / 平台名称构成的数组")]),t._v(" "),s("li",[t._v("返回值: "),s("code",[t._v("Context")]),t._v(" 新的上下文")])]),t._v(" "),s("h3",{attrs:{id:"ctx-select"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-select"}},[t._v("#")]),t._v(" ctx.select(key, ...values)")]),t._v(" "),s("p",[t._v("选取当前上下文的子集，限定会话对象的 key 属性所对应的值。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("values:")]),t._v(" "),s("code",[t._v("string[]")]),t._v(" 如果非空则表示允许的 key 属性可选值；否则只需 key 属性为 truthy 即可")]),t._v(" "),s("li",[t._v("返回值: "),s("code",[t._v("Context")]),t._v(" 新的上下文")])]),t._v(" "),s("h3",{attrs:{id:"ctx-user-except"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-user-except"}},[t._v("#")]),t._v(" ctx.user.except(...values)")]),t._v(" "),s("h3",{attrs:{id:"ctx-group-except"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-group-except"}},[t._v("#")]),t._v(" ctx.group.except(...values)")]),t._v(" "),s("h3",{attrs:{id:"ctx-platform-except"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-platform-except"}},[t._v("#")]),t._v(" ctx.platform.except(...values)")]),t._v(" "),s("p",[t._v("选取当前上下文的子集，排除用户编号 / 群组编号 / 平台名称为所给定的值。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("values:")]),t._v(" "),s("code",[t._v("string[]")]),t._v(" 禁止的用户编号 / 群组编号 / 平台名称构成的数组")]),t._v(" "),s("li",[t._v("返回值: "),s("code",[t._v("Context")]),t._v(" 新的上下文")])]),t._v(" "),s("h3",{attrs:{id:"ctx-unselect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-unselect"}},[t._v("#")]),t._v(" ctx.unselect(key, ...values)")]),t._v(" "),s("p",[t._v("选取当前上下文的子集，排除会话对象的 key 属性所对应的值。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("values:")]),t._v(" "),s("code",[t._v("string[]")]),t._v(" 如果非空则表示允许的 key 属性禁用值；否则只需 key 属性为 falsy 即可")]),t._v(" "),s("li",[t._v("返回值: "),s("code",[t._v("Context")]),t._v(" 新的上下文")])]),t._v(" "),s("h3",{attrs:{id:"ctx-union"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-union"}},[t._v("#")]),t._v(" ctx.union(filter)")]),t._v(" "),s("p",[t._v("给出当前上下文和其他上下文的并集。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("context:")]),t._v(" "),s("code",[t._v("Context | ((session: Session) => boolean)")]),t._v(" 另一个上下文或者过滤器函数")]),t._v(" "),s("li",[t._v("返回值: "),s("code",[t._v("Context")]),t._v(" 新的上下文")])]),t._v(" "),s("h3",{attrs:{id:"ctx-intersect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-intersect"}},[t._v("#")]),t._v(" ctx.intersect(filter)")]),t._v(" "),s("p",[t._v("给出当前上下文和其他上下文的交集。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("context:")]),t._v(" "),s("code",[t._v("Context | ((session: Session) => boolean)")]),t._v(" 另一个上下文或者过滤器函数")]),t._v(" "),s("li",[t._v("返回值: "),s("code",[t._v("Context")]),t._v(" 新的上下文")])]),t._v(" "),s("h3",{attrs:{id:"ctx-match"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-match"}},[t._v("#")]),t._v(" ctx.match(session)")]),t._v(" "),s("p",[t._v("测试上下文能否匹配会话对象。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("session:")]),t._v(" "),s("RouterLink",{attrs:{to:"/api/session.html"}},[s("code",[t._v("Session")])]),t._v(" 会话对象")],1),t._v(" "),s("li",[t._v("返回值: "),s("code",[t._v("boolean")]),t._v(" 匹配结果")])]),t._v(" "),s("h2",{attrs:{id:"钩子与中间件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#钩子与中间件"}},[t._v("#")]),t._v(" 钩子与中间件")]),t._v(" "),s("h3",{attrs:{id:"ctx-emit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-emit"}},[t._v("#")]),t._v(" ctx.emit(session?, event, ...param)")]),t._v(" "),s("h3",{attrs:{id:"ctx-parallel"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-parallel"}},[t._v("#")]),t._v(" ctx.parallel(session?, event, ...param)")]),t._v(" "),s("p",[t._v("同时触发所有 event 事件的能够匹配 session 对象的回调函数。emit 为同步，parallel 为异步。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("session:")]),t._v(" "),s("RouterLink",{attrs:{to:"/api/session.html"}},[s("code",[t._v("Session")])]),t._v(" 会话对象")],1),t._v(" "),s("li",[s("strong",[t._v("event:")]),t._v(" "),s("code",[t._v("string")]),t._v(" 事件名称")]),t._v(" "),s("li",[s("strong",[t._v("param:")]),t._v(" "),s("code",[t._v("any[]")]),t._v(" 事件的参数")]),t._v(" "),s("li",[t._v("返回值: "),s("code",[t._v("boolean")]),t._v(" 匹配结果")])]),t._v(" "),s("h3",{attrs:{id:"ctx-bail"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-bail"}},[t._v("#")]),t._v(" ctx.bail(session?, event, ...param)")]),t._v(" "),s("h3",{attrs:{id:"ctx-serial"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-serial"}},[t._v("#")]),t._v(" ctx.serial(session?, event, ...param)")]),t._v(" "),s("p",[t._v("依次触发所有 event 事件的能够匹配 session 对象的回调函数。当返回一个 false, null, undefined 以外的值时将这个值作为结果返回。bail 为同步，serial 为异步。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("session:")]),t._v(" "),s("RouterLink",{attrs:{to:"/api/session.html"}},[s("code",[t._v("Session")])]),t._v(" 会话对象")],1),t._v(" "),s("li",[s("strong",[t._v("event:")]),t._v(" "),s("code",[t._v("string")]),t._v(" 事件名称")]),t._v(" "),s("li",[s("strong",[t._v("param:")]),t._v(" "),s("code",[t._v("any[]")]),t._v(" 事件的参数")]),t._v(" "),s("li",[t._v("返回值: "),s("code",[t._v("boolean")]),t._v(" 匹配结果")])]),t._v(" "),s("h3",{attrs:{id:"ctx-chain"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-chain"}},[t._v("#")]),t._v(" ctx.chain(session?, event, ...param)")]),t._v(" "),s("h3",{attrs:{id:"ctx-waterfall"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-waterfall"}},[t._v("#")]),t._v(" ctx.waterfall(session?, event, ...param)")]),t._v(" "),s("p",[t._v("依次触发所有 event 事件的能够匹配 session 对象的回调函数。每次用得到的返回值覆盖下一轮调用的第一个参数，并在所有函数执行完后返回最终结果。chain 为同步，waterfall 为异步。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("session:")]),t._v(" "),s("RouterLink",{attrs:{to:"/api/session.html"}},[s("code",[t._v("Session")])]),t._v(" 会话对象")],1),t._v(" "),s("li",[s("strong",[t._v("event:")]),t._v(" "),s("code",[t._v("string")]),t._v(" 事件名称")]),t._v(" "),s("li",[s("strong",[t._v("param:")]),t._v(" "),s("code",[t._v("any[]")]),t._v(" 事件的参数")]),t._v(" "),s("li",[t._v("返回值: "),s("code",[t._v("boolean")]),t._v(" 匹配结果")])]),t._v(" "),s("h3",{attrs:{id:"ctx-on"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-on"}},[t._v("#")]),t._v(" ctx.on(event, listener, prepend?)")]),t._v(" "),s("p",[t._v("监听一个事件。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("event:")]),t._v(" "),s("code",[t._v("string")]),t._v(" 事件名称")]),t._v(" "),s("li",[s("strong",[t._v("listener:")]),t._v(" "),s("code",[t._v("Function")]),t._v(" 回调函数")]),t._v(" "),s("li",[s("strong",[t._v("prepend:")]),t._v(" "),s("code",[t._v("boolean")]),t._v(" 是否前置")]),t._v(" "),s("li",[t._v("返回值: "),s("code",[t._v("() => boolean")]),t._v(" 取消这个监听器")])]),t._v(" "),s("h3",{attrs:{id:"ctx-once"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-once"}},[t._v("#")]),t._v(" ctx.once(event, listener, prepend?)")]),t._v(" "),s("p",[t._v("监听一个事件，且确保回调函数只会被执行一次。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("event:")]),t._v(" "),s("code",[t._v("string")]),t._v(" 事件名称")]),t._v(" "),s("li",[s("strong",[t._v("listener:")]),t._v(" "),s("code",[t._v("Function")]),t._v(" 回调函数")]),t._v(" "),s("li",[s("strong",[t._v("prepend:")]),t._v(" "),s("code",[t._v("boolean")]),t._v(" 是否前置")]),t._v(" "),s("li",[t._v("返回值: "),s("code",[t._v("() => boolean")]),t._v(" 取消这个监听器")])]),t._v(" "),s("h3",{attrs:{id:"ctx-before"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-before"}},[t._v("#")]),t._v(" ctx.before(event, listener, append?)")]),t._v(" "),s("p",[t._v("监听一个以 "),s("code",[t._v("before-")]),t._v(" 开头的事件。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("event:")]),t._v(" "),s("code",[t._v("string")]),t._v(" 事件名称")]),t._v(" "),s("li",[s("strong",[t._v("listener:")]),t._v(" "),s("code",[t._v("Function")]),t._v(" 回调函数")]),t._v(" "),s("li",[s("strong",[t._v("append:")]),t._v(" "),s("code",[t._v("boolean")]),t._v(" 是否后置")]),t._v(" "),s("li",[t._v("返回值: "),s("code",[t._v("() => boolean")]),t._v(" 取消这个监听器")])]),t._v(" "),s("h3",{attrs:{id:"ctx-middleware"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-middleware"}},[t._v("#")]),t._v(" ctx.middleware(middleware, prepend?)")]),t._v(" "),s("p",[t._v("当前上下文中注册一个中间件。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("middleware:")]),t._v(" "),s("RouterLink",{attrs:{to:"/guide/message.html#使用中间件"}},[s("code",[t._v("Middleware")])]),t._v(" 要注册的中间件")],1),t._v(" "),s("li",[s("strong",[t._v("prepend:")]),t._v(" "),s("code",[t._v("boolean")]),t._v(" 是否前置")]),t._v(" "),s("li",[t._v("返回值: "),s("code",[t._v("() => boolean")]),t._v(" 取消这个中间件")])]),t._v(" "),s("h2",{attrs:{id:"指令与插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#指令与插件"}},[t._v("#")]),t._v(" 指令与插件")]),t._v(" "),s("h3",{attrs:{id:"ctx-plugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-plugin"}},[t._v("#")]),t._v(" ctx.plugin(plugin, options?)")]),t._v(" "),s("p",[t._v("当前上下文中安装一个插件。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("plugin:")]),t._v(" "),s("code",[t._v("Plugin")]),t._v(" 要安装的插件")]),t._v(" "),s("li",[s("strong",[t._v("options:")]),t._v(" "),s("code",[t._v("any")]),t._v(" 要传入插件的参数，如果为 "),s("code",[t._v("false")]),t._v(" 则插件不会被安装")]),t._v(" "),s("li",[t._v("返回值: "),s("code",[t._v("this")])])]),t._v(" "),s("panel-view",{staticClass:"code",attrs:{title:""}},[s("pre",{staticClass:"shiki",staticStyle:{"background-color":"#272822"}},[s("code",[s("span",{staticClass:"line"},[s("span",{staticStyle:{color:"#66D9EF"}},[t._v("type")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),s("span",{staticStyle:{color:"#A6E22E"}},[t._v("PluginFunction")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v("<")]),s("span",{staticStyle:{color:"#A6E22E"}},[t._v("U")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v("> ")]),s("span",{staticStyle:{color:"#F92672"}},[t._v("=")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" (")]),s("span",{staticStyle:{color:"#FD971F"}},[t._v("ctx")]),s("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),s("span",{staticStyle:{color:"#A6E22E"}},[t._v("Context")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(", ")]),s("span",{staticStyle:{color:"#FD971F"}},[t._v("options")]),s("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),s("span",{staticStyle:{color:"#A6E22E"}},[t._v("U")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(") ")]),s("span",{staticStyle:{color:"#66D9EF"}},[t._v("=>")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),s("span",{staticStyle:{color:"#66D9EF"}},[t._v("void")])]),t._v("\n"),s("span",{staticClass:"line"},[s("span",{staticStyle:{color:"#66D9EF"}},[t._v("type")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),s("span",{staticStyle:{color:"#A6E22E"}},[t._v("PluginObject")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v("<")]),s("span",{staticStyle:{color:"#A6E22E"}},[t._v("U")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v("> ")]),s("span",{staticStyle:{color:"#F92672"}},[t._v("=")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" { apply")]),s("span",{staticStyle:{color:"#F92672"}},[t._v(":")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),s("span",{staticStyle:{color:"#A6E22E"}},[t._v("PluginFunction")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v("<")]),s("span",{staticStyle:{color:"#A6E22E"}},[t._v("T")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(", ")]),s("span",{staticStyle:{color:"#A6E22E"}},[t._v("U")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v("> }")])]),t._v("\n"),s("span",{staticClass:"line"},[s("span",{staticStyle:{color:"#66D9EF"}},[t._v("type")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),s("span",{staticStyle:{color:"#A6E22E"}},[t._v("Plugin")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v("<")]),s("span",{staticStyle:{color:"#A6E22E"}},[t._v("U")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v("> ")]),s("span",{staticStyle:{color:"#F92672"}},[t._v("=")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),s("span",{staticStyle:{color:"#A6E22E"}},[t._v("PluginFunction")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v("<")]),s("span",{staticStyle:{color:"#A6E22E"}},[t._v("T")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(", ")]),s("span",{staticStyle:{color:"#A6E22E"}},[t._v("U")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v("> ")]),s("span",{staticStyle:{color:"#F92672"}},[t._v("|")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" ")]),s("span",{staticStyle:{color:"#A6E22E"}},[t._v("PluginObject")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v("<")]),s("span",{staticStyle:{color:"#A6E22E"}},[t._v("T")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(", ")]),s("span",{staticStyle:{color:"#A6E22E"}},[t._v("U")]),s("span",{staticStyle:{color:"#F8F8F2"}},[t._v(">")])])])])]),s("h3",{attrs:{id:"ctx-command"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-command"}},[t._v("#")]),t._v(" ctx.command(def, desc?, config?)")]),t._v(" "),s("p",[t._v("在当前上下文中注册或修改一个指令。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("def:")]),t._v(" "),s("code",[t._v("string")]),t._v(" 指令名以及可能的参数")]),t._v(" "),s("li",[s("strong",[t._v("desc:")]),t._v(" "),s("code",[t._v("string")]),t._v(" 指令的描述")]),t._v(" "),s("li",[s("strong",[t._v("config:")]),t._v(" "),s("code",[t._v("CommandConfig")]),t._v(" 指令的配置\n"),s("ul",[s("li",[s("strong",[t._v("checkUnknown:")]),t._v(" "),s("code",[t._v("boolean")]),t._v(" 是否对未知选项进行检测，默认为 "),s("code",[t._v("false")])]),t._v(" "),s("li",[s("strong",[t._v("checkArgCount:")]),t._v(" "),s("code",[t._v("boolean")]),t._v(" 是否对参数个数进行检测，默认为 "),s("code",[t._v("false")])]),t._v(" "),s("li",[s("strong",[t._v("authority:")]),t._v(" "),s("code",[t._v("number")]),t._v(" 最低调用权限，默认为 "),s("code",[t._v("1")])]),t._v(" "),s("li",[s("strong",[t._v("maxUsage:")]),t._v(" "),s("code",[t._v("number")]),t._v(" 每天最多调用次数，默认为 "),s("code",[t._v("Infinity")])]),t._v(" "),s("li",[s("strong",[t._v("minInterval:")]),t._v(" "),s("code",[t._v("number")]),t._v(" 每次调用最短时间间隔，默认为 "),s("code",[t._v("0")])]),t._v(" "),s("li",[s("strong",[t._v("showWarning:")]),t._v(" "),s("code",[t._v("boolean")]),t._v(" 当小于最短间隔时是否进行提醒，默认为 "),s("code",[t._v("false")])]),t._v(" "),s("li",[s("strong",[t._v("usageName:")]),t._v(" "),s("code",[t._v("string")]),t._v(" 调用标识符，默认为指令名，如果多个指令使用同一个标识符，则它们的调用次数将合并计算")])])]),t._v(" "),s("li",[t._v("返回值："),s("RouterLink",{attrs:{to:"/api/command.html"}},[s("code",[t._v("Command")])]),t._v(" 注册或修改的指令")],1)]),t._v(" "),s("h3",{attrs:{id:"ctx-logger"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-logger"}},[t._v("#")]),t._v(" ctx.logger(scope?)")]),t._v(" "),s("p",[t._v("根据 namespace 生成一个 "),s("RouterLink",{attrs:{to:"/guide/logger.html#使用-logger"}},[t._v("Logger 对象")]),t._v("。")],1),t._v(" "),s("ul",[s("li",[s("strong",[t._v("scope:")]),t._v(" "),s("code",[t._v("string")]),t._v(" 要指定的类型，默认为 "),s("code",[t._v("''")])]),t._v(" "),s("li",[t._v("返回值: "),s("RouterLink",{attrs:{to:"/guide/logger.html#使用-logger"}},[s("code",[t._v("Logger")])])],1)]),t._v(" "),s("h3",{attrs:{id:"ctx-dispose"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctx-dispose"}},[t._v("#")]),t._v(" ctx.dispose()")]),t._v(" "),s("p",[t._v("移除当前插件中所注册的钩子、中间件和指令。")]),t._v(" "),s("ul",[s("li",[t._v("返回值: "),s("code",[t._v("void")])])])],1)}),[],!1,null,null,null);e.default=v.exports}}]);